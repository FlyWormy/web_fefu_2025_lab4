{% extends 'main/base.html' %}
{% load static %}

{% block title %}–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">
    <div style="margin-bottom: 30px;">
        <h1>üë®‚Äçüéì –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h1>
        <p style="color: #6c757d;">
            –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∞–¥–º–∏–Ω–∫—É
        </p>
    </div>

    {% if students %}
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden;">
                <thead>
                    <tr style="background: #343a40; color: white;">
                        <th style="padding: 12px 15px; text-align: left;">–§–ò–û</th>
                        <th style="padding: 12px 15px; text-align: left;">Email</th>
                        <th style="padding: 12px 15px; text-align: left;">–§–∞–∫—É–ª—å—Ç–µ—Ç</th>
                        <th style="padding: 12px 15px; text-align: left;">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
                        <th style="padding: 12px 15px; text-align: left;">–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody>
                    {% for student in students %}
                    <tr style="border-bottom: 1px solid #dee2e6;">
                        <td style="padding: 12px 15px;">
                            <strong>{{ student.first_name }} {{ student.last_name }}</strong>
                        </td>
                        <td style="padding: 12px 15px;">
                            {{ student.email }}
                        </td>
                        <td style="padding: 12px 15px;">
                            {{ student.get_faculty_display }}
                        </td>
                        <td style="padding: 12px 15px;">
                            {{ student.created_at|date:"d.m.Y" }}
                        </td>
                        <td style="padding: 12px 15px;">
                            <div style="display: flex; gap: 8px;">
                                <a href="{% url 'student_profile' student.id %}"
                                   style="padding: 5px 10px; background: #007bff; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9em;">
                                    –ü—Ä–æ—Ñ–∏–ª—å
                                </a>
                                {% comment %}
                                <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–∫—Ä—ã—Ç–∞ -->
                                <!--
                                <a href="{% url 'student_edit' student.id %}"
                                   style="padding: 5px 10px; background: #6c757d; color: white; text-decoration: none; border-radius: 4px; font-size: 0.9em;">
                                    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                                </a>
                                -->
                                {% endcomment %}
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div style="margin-top: 20px; color: #6c757d;">
            –í—Å–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: {{ students|length }}
        </div>
    {% else %}
        <div style="text-align: center; padding: 40px; background: #f8f9fa; border-radius: 8px;">
            <p style="font-size: 1.2em;">–°—Ç—É–¥–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
            <a href="{% url 'register' %}" class="btn" style="margin-top: 20px;">
                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
            </a>
            <p style="color: #6c757d; margin-top: 10px;">
                –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <a href="/admin/">–∞–¥–º–∏–Ω–∫—É</a>
            </p>
        </div>
    {% endif %}

    <div style="margin-top: 40px;">
        <a href="{% url 'index' %}" class="btn btn-secondary">
            ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é
        </a>
        <a href="{% url 'register' %}" class="btn" style="margin-left: 10px;">
            üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
        </a>
    </div>
</div>
{% endblock %}