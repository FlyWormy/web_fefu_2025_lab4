{% extends 'main/base.html' %}
{% load static %}

{% block title %}–ö—É—Ä—Å—ã{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">
    <h1>üéì –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫—É—Ä—Å—ã</h1>

    {% if courses %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; margin-top: 30px;">
            {% for course in courses %}
            <div style="border: 1px solid #dee2e6; padding: 20px; border-radius: 10px; background: white;">
                <h3>{{ course.title }}</h3>
                <p style="color: #6c757d; margin: 10px 0;">
                    –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: {{ course.instructor.full_name }}
                </p>
                <p>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: {{ course.duration_hours }} —á–∞—Å–æ–≤</p>
                <p style="margin: 15px 0;">{{ course.description|truncatewords:30 }}</p>
                <div style="margin-top: 20px;">
                    <a href="{% url 'course_detail' course.id %}" class="btn">
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                    <span style="margin-left: 10px; color: {% if course.is_active %}#28a745{% else %}#dc3545{% endif %};">
                        {{ course.is_active|yesno:"–ê–∫—Ç–∏–≤–µ–Ω,–ù–µ –∞–∫—Ç–∏–≤–µ–Ω" }}
                    </span>
                    {% if user.is_authenticated %}
                        {% if course.id in user_enrolled_courses %}
                            <span style="margin-left: 10px; color: #28a745; font-weight: bold;">
                                ‚úì –í—ã –∑–∞–ø–∏—Å–∞–Ω—ã
                            </span>
                        {% endif %}
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p>–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫—É—Ä—Å–æ–≤</p>
    {% endif %}

    <div style="margin-top: 40px;">
        <a href="{% url 'index' %}" class="btn btn-secondary">
            –ù–∞ –≥–ª–∞–≤–Ω—É—é
        </a>
    </div>
</div>
{% endblock %}