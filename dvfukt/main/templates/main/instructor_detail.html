{% extends 'main/base.html' %}
{% load static %}

{% block title %}{{ instructor.first_name }} {{ instructor.last_name }}{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <div style="background: #e9ecef; padding: 25px; border-radius: 10px; margin-bottom: 20px;">
        <h1>üë®‚Äçüè´ {{ instructor.first_name }} {{ instructor.last_name }}</h1>
        <p style="font-size: 1.1em; color: #6c757d;">
            {{ instructor.specialization }}
        </p>
    </div>

    <div style="background: white; padding: 25px; border-radius: 8px; border: 1px solid #dee2e6;">
        <h3>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ</h3>
        <div style="display: grid; gap: 15px; margin-top: 20px;">
            <div>
                <strong>Email:</strong><br>
                {{ instructor.email }}
            </div>
            {% if instructor.degree %}
            <div>
                <strong>–£—á–µ–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å:</strong><br>
                {{ instructor.degree }}
            </div>
            {% endif %}
            <div>
                <strong>–°—Ç–∞—Ç—É—Å:</strong><br>
                <span style="color: {% if instructor.is_active %}#28a745{% else %}#dc3545{% endif %};">
                    {{ instructor.is_active|yesno:"–ê–∫—Ç–∏–≤–µ–Ω,–ù–µ –∞–∫—Ç–∏–≤–µ–Ω" }}
                </span>
            </div>
            <div>
                <strong>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:</strong><br>
                {{ instructor.created_at|date:"d.m.Y" }}
            </div>
        </div>

        {% if instructor.courses.all %}
        <div style="margin-top: 40px;">
            <h4>üìö –í–µ–¥–µ—Ç –∫—É—Ä—Å—ã</h4>
            <div style="margin-top: 15px;">
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: #f8f9fa;">
                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #dee2e6;">–ö—É—Ä—Å</th>
                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #dee2e6;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</th>
                            <th style="padding: 10px; text-align: left; border-bottom: 2px solid #dee2e6;">–°—Ç–∞—Ç—É—Å</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for course in instructor.courses.all %}
                        <tr style="border-bottom: 1px solid #dee2e6;">
                            <td style="padding: 10px;">
                                <a href="{% url 'course_detail' course.id %}" style="text-decoration: none; color: #007bff;">
                                    {{ course.title }}
                                </a>
                            </td>
                            <td style="padding: 10px;">
                                {{ course.duration_hours }} —á–∞—Å–æ–≤
                            </td>
                            <td style="padding: 10px;">
                                <span style="color: {% if course.is_active %}#28a745{% else %}#dc3545{% endif %};">
                                    {{ course.is_active|yesno:"–ê–∫—Ç–∏–≤–µ–Ω,–ù–µ –∞–∫—Ç–∏–≤–µ–Ω" }}
                                </span>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        {% else %}
        <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
            <p>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –ø–æ–∫–∞ –Ω–µ –≤–µ–¥–µ—Ç –∫—É—Ä—Å—ã</p>
        </div>
        {% endif %}
    </div>

    <div style="margin-top: 30px; display: flex; gap: 15px;">
        <a href="{% url 'instructor_edit' instructor.id %}" class="btn">
            ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        </a>
        <a href="{% url 'instructor_list' %}" class="btn btn-secondary">
            ‚Üê –í—Å–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏
        </a>
        <a href="{% url 'index' %}" class="btn btn-secondary">
            –ù–∞ –≥–ª–∞–≤–Ω—É—é
        </a>
    </div>
</div>
{% endblock %}